<!-- Main Header -->
<header class="bg-white border-b border-gray-200  sticky top-0 z-50">
  <div class="px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">

      <!-- Left Side - Logo and Navigation -->
      <div class="flex items-center space-x-8">
        <!-- Logo -->
        <div class="flex items-center space-x-3">
          <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z">
              </path>
            </svg>
          </div>
          <span class="text-xl font-bold text-gray-900">TaskFlow</span>
        </div>


      </div>

      <div class="flex items-center space-x-4">
        <!-- User Profile Menu -->
        <div class="relative">
          <button class="flex items-center space-x-3 p-1 rounded-md hover:bg-gray-100 transition-colors group">
            <div class="relative">
              <img [src]="userImage" alt="User Avatar" class="w-8 h-8 rounded-full border-2 border-gray-200">
              <div class="absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full">
              </div>
            </div>
            <div class="hidden md:block text-left">
              <div class="text-sm font-medium text-gray-900">{{fullName}}</div>
              <div class="text-xs text-gray-500">Administrator</div>
            </div>
            <svg class="w-4 h-4 text-gray-400 group-hover:text-gray-600" fill="none" stroke="currentColor"
              viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <div class="hidden absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50">
            <div class="px-4 py-3 border-b border-gray-100">
              <div class="flex items-center space-x-3">
                <img
                  src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                  alt="User Avatar" class="w-10 h-10 rounded-full">
                <div>
                  <div class="font-medium text-gray-900">John Doe</div>
                  <div class="text-sm text-gray-500">john.doecompany.com</div>

                </div>
              </div>
            </div>
            <div class="py-1">
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                Profile
              </a>
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">
                  </path>
                </svg>
                Account settings
              </a>
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
                  </path>
                </svg>
                Manage organizations
              </a>
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                  </path>
                </svg>
                Manage team
              </a>
            </div>
            <div class="border-t border-gray-100 py-1">
              <div class="px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider">Quick Actions</div>
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6">
                  </path>
                </svg>
                Create new project
              </a>
              <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <svg class="w-4 h-4 mr-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z">
                  </path>
                </svg>
                Invite team members
              </a>
            </div>

            <!-- Logout -->
            <div class="border-t border-gray-100 py-1">
              <a href="#" class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                <svg class="w-4 h-4 mr-3 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                  </path>
                </svg>
                Sign out
              </a>
            </div>
          </div>
        </div>

        <!-- Mobile Menu Button -->
        <button class="md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>


<div class="min-h-screen relative overflow-hidden  py-8 px-4">
  <div class="bg-[#4545660a]  absolute top-4 rotate-12 left-[600px]  h-[400px] w-full  "></div>
  <div class="bg-[#4545660a]  absolute top-0 rotate-45 right-[600px]  h-[300px] w-full  "></div>

  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class=" rounded-lg shadow-sm border border-gray-200 mb-6">
      <div class="px-6 py-4 border-b border-gray-200">
        <div class="flex items-center space-x-3">
          <button class="p-1 hover:bg-gray-100 rounded" type="button">
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
              </path>
            </svg>
          </button>
          <div>
            <h1 class="text-2xl font-semibold text-gray-900">Create organization</h1>
            <p class="text-gray-600 mt-1">Set up your organization to start managing projects and teams</p>
          </div>
        </div>
      </div>

      <!-- Progress Steps -->
      <div class="px-6 py-4">
        <div class="flex items-center space-x-4">
          <div class="flex items-center space-x-2" [class.text-blue-600]="currentStep >= 1"
            [class.text-gray-400]="currentStep < 1">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium"
              [class.bg-blue-600]="currentStep >= 1" [class.text-white]="currentStep >= 1"
              [class.bg-gray-200]="currentStep < 1" [class.text-gray-600]="currentStep < 1">
              <svg *ngIf="currentStep > 1" class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                  clip-rule="evenodd"></path>
              </svg>
              <span *ngIf="currentStep <= 1">1</span>
            </div>
            <span class="font-medium">Organization details</span>
          </div>
          <div class="h-px flex-1" [class.bg-blue-600]="currentStep > 1" [class.bg-gray-300]="currentStep <= 1"></div>
          <div class="flex items-center space-x-2" [class.text-blue-600]="currentStep >= 2"
            [class.text-gray-400]="currentStep < 2">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium"
              [class.bg-blue-600]="currentStep >= 2" [class.text-white]="currentStep >= 2"
              [class.bg-gray-200]="currentStep < 2" [class.text-gray-600]="currentStep < 2">
              2
            </div>
            <span class="font-medium">Project setup</span>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-sm border border-gray-200">
      <div class="p-6 relative ">
        <div class="hidden md:block absolute top-0 end-0 -translate-y-12 translate-x-20">
          <svg class="w-16 h-auto text-orange-500" width="121" height="135" viewBox="0 0 121 135" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M5 16.4754C11.7688 27.4499 21.2452 57.3224 5 89.0164" stroke="currentColor" stroke-width="10"
              stroke-linecap="round" />
            <path d="M33.6761 112.104C44.6984 98.1239 74.2618 57.6776 83.4821 5" stroke="currentColor" stroke-width="10"
              stroke-linecap="round" />
            <path d="M50.5525 130C68.2064 127.495 110.731 117.541 116 78.0874" stroke="currentColor" stroke-width="10"
              stroke-linecap="round" />
          </svg>
        </div>

        <div *ngIf="currentStep === 1" class="space-y-6">
          <div class="flex items-center space-x-3 mb-6">
            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
              </path>
            </svg>
            <h2 class="text-xl font-semibold text-gray-900">Organization Information</h2>
          </div>

          <form [formGroup]="form" (ngSubmit)="submit()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="flex items-center col-span-full justify-center w-full">
              <label for="dropzone-file"
                class="flex flex-col items-center justify-center w-full h-52 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50   hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                <div *ngIf="!selectedImage" class="flex flex-col items-center justify-center pt-5 pb-6">
                  <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2" />
                  </svg>
                  <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to
                      upload</span> or drag and drop</p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG or GIF (MAX.
                    800x400px)</p>
                </div>
                <div *ngIf="selectedImage" class="mt-2 relative w-full  h-52 ">
                  <img [src]="selectedImage" class="object-cover  h-52 w-full" />
                </div>
                <input id="dropzone-file" (change)="onImageSelected($event)" type="file" class="hidden" />
              </label>
            </div>

            <div class="md:col-span-2 space-y-2">
              <label class="block text-sm font-medium text-gray-700">
                Organization name <span class="text-red-500">*</span>
              </label>
              <input type="text" formControlName="name" placeholder="Enter your organization name" maxlength="100"
                class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                [class.border-red-500]="f['name'].invalid && f['name'].touched"
                [class.border-gray-300]="!f['name'].invalid || !f['name'].touched">
              <div *ngIf="f['name'].invalid && f['name'].touched"
                class="flex items-center space-x-1 text-red-600 text-sm">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                    clip-rule="evenodd"></path>
                </svg>
                <span>Organization name is required</span>
              </div>
            </div>

            <!-- Organization Key -->
            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700">
                Organization Slug <span class="text-red-500">*</span>
              </label>

              <input type="text" formControlName="slug" placeholder="e.g. taskify-app" maxlength="30"
                class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors font-mono"
                [class.border-red-500]="f['slug'].invalid && f['slug'].touched"
                [class.border-gray-300]="!f['slug'].invalid || !f['slug'].touched" />

              <!-- Error: Required -->
              <div *ngIf="f['slug'].errors?.['required'] && f['slug'].touched" class="text-red-500 text-sm">
                Slug is required.
              </div>

              <!-- Error: Pattern mismatch -->
              <div *ngIf="f['slug'].errors?.['pattern'] && f['slug'].touched" class="text-red-500 text-sm">
                Slug must only use lowercase letters, numbers, and hyphens. It cannot start or end with a hyphen.
              </div>

              <!-- Error: Too short or too long -->
              <div *ngIf="f['slug'].errors?.['minlength'] && f['slug'].touched" class="text-red-500 text-sm">
                Slug must be at least 3 characters.
              </div>
              <div *ngIf="f['slug'].errors?.['maxlength'] && f['slug'].touched" class="text-red-500 text-sm">
                Slug must be at most 30 characters.
              </div>
            </div>


            <div class="space-y-2">
              <label class="block text-sm font-medium text-gray-700">Organization type</label>
              <select formControlName="type"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option value="business">Business</option>
                <option value="nonprofit">Non-profit</option>
                <option value="education">Educational</option>
                <option value="government">Government</option>
                <option value="other">Other</option>
              </select>
            </div>
          </form>
        </div>


        <div class="flex justify-between items-center pt-6 border-t border-gray-200 mt-6">
          <div class="flex space-x-3">
            <button (click)="submit()" type="submit"
              class="w-full py-3 px-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none relative overflow-hidden">
              <div
                class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000">
              </div>
              <span *ngIf="!isLoading" class="relative z-10">Create Organization</span>
              <span *ngIf="isLoading" class="relative z-10 flex items-center justify-center">
                <div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"></div>
                Create ...
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>